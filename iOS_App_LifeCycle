# ðŸ“± iOS App Lifecycle (Swift)

iOS ilovasi faqatgina ViewController'lar orqali emas, balki butun tizim darajasida ham turli hayotiy bosqichlardan oâ€˜tadi.  
Ushbu hujjatda `AppDelegate`, `SceneDelegate`, va `ViewController` larni oâ€˜z ichiga olgan **toâ€˜liq lifecycle tushunchasi** yoritiladi. ðŸš€

---

## ðŸ”„ ViewController va App Lifecycle oâ€˜rtasidagi farq

ViewController faqatgina **bitta ekran**ni anglatadi.  
Ammo butun ilovaning hayoti bu ekranlar toâ€˜plamidan **kattaroq** kontekstda qaraladi.

| Komponent        | Nimani anglatadi?            | Misollar                      |
|------------------|-------------------------------|-------------------------------|
| ViewController   | Bitta ekran (UI sahifa)       | Profil sahifasi, Chat ekran  |
| Scene            | Bitta oynadagi VClar toâ€˜plami | iPad multi-window             |
| App              | Butun ilova (foydalanuvchi uchun) | FlashChat, TikTok, Safari     |

---

## ðŸ”¥ iOS App Lifecycle Bosqichlari

1. âœ… **Ilova ishga tushadi** â€“ `application(_:didFinishLaunchingWithOptions:)`
2. âœ… **Ilova oynasi koâ€˜rinadi** â€“ `scene(_:willConnectTo:)`
3. âœ… **Ilova aktiv holatda** â€“ `sceneDidBecomeActive(_:)`
4. âœ… **Ilova passiv boâ€˜ladi** â€“ `sceneWillResignActive(_:)`
5. âœ… **Ilova backgroundâ€™ga oâ€˜tadi** â€“ `sceneDidEnterBackground(_:)`
6. âœ… **Ilova foregroundâ€™ga qaytadi** â€“ `sceneWillEnterForeground(_:)`
7. âœ… **Ilova oâ€˜chiriladi yoki sahna yopiladi** â€“ `application(_:didDiscardSceneSessions:)`

---

## ðŸ§  Nega bu sizga kerak?

Agar foydalanuvchi forma toâ€˜ldirayotgan boâ€˜lsa va telefon qoâ€˜ngâ€˜irogâ€˜i boâ€˜lsa yoki boshqa app ochilsa â€” siz bu holatlarni `sceneDidEnterBackground` da ushlab, **foydalanuvchi ma'lumotini saqlashingiz kerak**.

Aks holda, **hamma yozilgan narsa yoâ€˜qoladi** âŒ

---

## ðŸ“ AppDelegate vs SceneDelegate

### ðŸ”§ AppDelegate.swift â€” App darajasidagi lifecycleâ€™lar

```swift
func application(_ application: UIApplication,
                 didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
    FirebaseApp.configure() // App ishga tushganda
    return true
}
```

```swift
func application(_ application: UIApplication,
                 didDiscardSceneSessions sceneSessions: Set<UISceneSession>) {
    // Ilova sahnasi oâ€˜chirildi
}
```

## ðŸ–¼ SceneDelegate.swift â€” Har bir oynaga xos lifecycleâ€™lar

```swift
func scene(_ scene: UIScene, willConnectTo session: UISceneSession,
           options connectionOptions: UIScene.ConnectionOptions) {
    // Sahna tayyorlanmoqda
}

func sceneDidBecomeActive(_ scene: UIScene) {
    print(#function) // App faol holatga oâ€˜tdi
}

func sceneWillResignActive(_ scene: UIScene) {
    // Ilova passiv holatga oâ€˜tmoqda
}

func sceneDidEnterBackground(_ scene: UIScene) {
    // Ilova backgroundâ€™ga tushdi â†’ foydalanuvchi ma'lumotlarini saqlang!
}

func sceneWillEnterForeground(_ scene: UIScene) {
    // Ilova yana aktiv boâ€˜lmoqda
}
```

## ðŸ“Œ Lifecycle Voqealari Zanjiri

```text
1. App Start:
   - AppDelegate.didFinishLaunchingWithOptions
   - SceneDelegate.scene(_:willConnectTo:)
   - SceneDelegate.sceneDidBecomeActive

2. ViewController Display:
   - viewDidLoad
   - viewWillAppear
   - viewDidAppear

3. App to Background (Home button):
   - sceneWillResignActive
   - sceneDidEnterBackground

4. App returns:
   - sceneWillEnterForeground
   - sceneDidBecomeActive

5. App closed:
   - application(_:didDiscardSceneSessions:)
```

## ðŸ“¦ Yakuniy Xulosa

`App (1) â†’ Scene (1..n) â†’ ViewController (1..n)`

| Qachon?                          | Qayerda?                              |
|----------------------------------|----------------------------------------|
| App ishga tushdi                | AppDelegate                            |
| Firebase sozlash                | AppDelegate                            |
| Ilova oynasi tayyor boâ€˜ldi     | SceneDelegate                          |
| App aktiv boâ€˜ldi               | sceneDidBecomeActive                   |
| App passiv / Background boâ€˜ldi | sceneDidEnterBackground                |
| ViewController koâ€˜rinmoqda     | viewDidLoad, viewDidAppear             |
| ViewController yopilmoqda      | viewWillDisappear, viewDidDisappear    |

---

## ðŸŽ“ Amaliy Misollar

- âœ… **Firebase sozlash:** `AppDelegate.didFinishLaunchingWithOptions`
- âœ… **Forma saqlash:** `SceneDelegate.sceneDidEnterBackground`
- âœ… **Qoâ€˜ngâ€˜iroq paytida audio pauza:** `sceneWillResignActive`
- âœ… **UI animatsiya:** `ViewController.viewDidAppear`
- âœ… **Forma toâ€˜ldirishni tiklash:** `sceneWillEnterForeground`

---

## âœ… Maslahatlar

1. **Lifecycleâ€™larni yaxshi oâ€˜rganing** â€“ harakatlar aniq vaqtida bajariladi.
2. **Kod strukturasini saqlang** â€“ har bir voqeani toâ€˜gâ€˜ri joyda yozing.
3. `print(#function)` bilan **debug qiling** â€“ metodlar qachon chaqirilishini kuzating.
4. **Foydalanuvchi ma'lumotini har doim saqlang** â€“ ayniqsa backgroundâ€™ga oâ€˜tishda.

---

ðŸ“Œ _Tayyor kod yoki misollar kerak boâ€˜lsa, bemalol yozing._  
ðŸ“ˆ _Sizning muvaffaqiyatingiz â€” toâ€˜gâ€˜ri lifecycle'ni tushunishingizdan boshlanadi._ ðŸ”¥
